<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de bord</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/dashboard.css">
</head>
<body>
<%- include('partials/header') %>

<main>
    <h1>Tableau de bord des rÃ©servations</h1>
    <!--Navigation-->
    <div id=buttons>
        <a href="/catways">Catways</a> |
        <a href="/reservations">RÃ©servations</a> |
        <a href="/users">Utilisateurs</a>
    </div>

    <!--Infos utilisateur-->
    <div id='user-info'>
        <h2>Bienvenue, <%= user.name %> ğŸ‘‹</h2>
        <p>Email : <%= user.email %></p>
        <p>Date du jour : <span id="today"><%= today %></span></p>
    </div>

<!-- Tableau des rÃ©servations -->
    <div id="reservations">
        <h2>RÃ©servations en cours</h2>
        <% if (reservations && reservations.length) { %>
        <table>
            <thead>
                <tr>
                    <th>nÂ°</th>
                    <th>Catway</th>
                    <th>Nom du client</th>
                    <th>Bateau</th>
                    <th>Date dÃ©but</th>
                    <th>Date fin</th>
                </tr>
            </thead>
            <tbody>
                <% reservations.forEach((r, i) => { %>
                <tr>
                    <td><%= i+1 %></td>
                    <td><%= r.catwayNumber %></td>
                    <td><%= r.clientName %></td>
                    <td><%= r.boatName %></td>
                    <td><%= r.startDate.toLocaleDateString('fr-FR') %></td>
                    <td><%= r.endDate.toLocaleDateString('fr-FR') %></td>
                </tr>
                <% }) %>
            </tbody>
        </table>
        <% } else { %>
            <p>Aucune rÃ©servation en cours.</p>
        <% } %>
    </div>
</main>

</main>
<%- include('partials/footer') %>
</body>
</html>